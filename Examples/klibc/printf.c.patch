--- printf.c.orig	2017-09-23 18:27:30.000000000 +0200
+++ printf.c	2017-09-23 18:28:14.000000000 +0200
@@ -4,6 +4,7 @@
 
 #include <stdio.h>
 #include <stdarg.h>
+#include <proto/dos.h>
 
 #define BUFFER_SIZE	16384
 
@@ -13,7 +14,7 @@
 	int rv;
 
 	va_start(ap, format);
-	rv = vfprintf(stdout, format, ap);
+	rv = vfprintf(Output(), format, ap);
 	va_end(ap);
 	return rv;
 }
